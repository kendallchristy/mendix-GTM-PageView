define(['exports', 'react'], (function (exports, react) { 'use strict';

  var warn$1 = {};

  Object.defineProperty(warn$1, "__esModule", {
    value: true
  });

  var warn = function warn(s) {
    console.warn('[react-gtm]', s);
  };

  warn$1.default = warn;

  var _warn = warn$1;

  var _warn2 = _interopRequireDefault$2(_warn);

  function _interopRequireDefault$2(obj) {
    return obj && obj.__esModule ? obj : {
      default: obj
    };
  } // https://developers.google.com/tag-manager/quickstart


  var Snippets = {
    tags: function tags(_ref) {
      var id = _ref.id,
          events = _ref.events,
          dataLayer = _ref.dataLayer,
          dataLayerName = _ref.dataLayerName,
          preview = _ref.preview,
          auth = _ref.auth;
      var gtm_auth = '&gtm_auth=' + auth;
      var gtm_preview = '&gtm_preview=' + preview;
      if (!id) (0, _warn2.default)('GTM Id is required');
      var iframe = '\n      <iframe src="https://www.googletagmanager.com/ns.html?id=' + id + gtm_auth + gtm_preview + '&gtm_cookies_win=x"\n        height="0" width="0" style="display:none;visibility:hidden" id="tag-manager"></iframe>';
      var script = '\n      (function(w,d,s,l,i){w[l]=w[l]||[];\n        w[l].push({\'gtm.start\': new Date().getTime(),event:\'gtm.js\', ' + JSON.stringify(events).slice(1, -1) + '});\n        var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!=\'dataLayer\'?\'&l=\'+l:\'\';\n        j.async=true;j.src=\'https://www.googletagmanager.com/gtm.js?id=\'+i+dl+\'' + gtm_auth + gtm_preview + '&gtm_cookies_win=x\';\n        f.parentNode.insertBefore(j,f);\n      })(window,document,\'script\',\'' + dataLayerName + '\',\'' + id + '\');';
      var dataLayerVar = this.dataLayer(dataLayer, dataLayerName);
      return {
        iframe: iframe,
        script: script,
        dataLayerVar: dataLayerVar
      };
    },
    dataLayer: function dataLayer(_dataLayer, dataLayerName) {
      return '\n      window.' + dataLayerName + ' = window.' + dataLayerName + ' || [];\n      window.' + dataLayerName + '.push(' + JSON.stringify(_dataLayer) + ')';
    }
  };
  var Snippets_1 = Snippets;

  var _Snippets = Snippets_1;

  var _Snippets2 = _interopRequireDefault$1(_Snippets);

  function _interopRequireDefault$1(obj) {
    return obj && obj.__esModule ? obj : {
      default: obj
    };
  }

  var TagManager = {
    dataScript: function dataScript(dataLayer) {
      var script = document.createElement('script');
      script.innerHTML = dataLayer;
      return script;
    },
    gtm: function gtm(args) {
      var snippets = _Snippets2.default.tags(args);

      var noScript = function noScript() {
        var noscript = document.createElement('noscript');
        noscript.innerHTML = snippets.iframe;
        return noscript;
      };

      var script = function script() {
        var script = document.createElement('script');
        script.innerHTML = snippets.script;
        return script;
      };

      var dataScript = this.dataScript(snippets.dataLayerVar);
      return {
        noScript: noScript,
        script: script,
        dataScript: dataScript
      };
    },
    initialize: function initialize(_ref) {
      var gtmId = _ref.gtmId,
          _ref$events = _ref.events,
          events = _ref$events === undefined ? {} : _ref$events,
          dataLayer = _ref.dataLayer,
          _ref$dataLayerName = _ref.dataLayerName,
          dataLayerName = _ref$dataLayerName === undefined ? 'dataLayer' : _ref$dataLayerName,
          _ref$auth = _ref.auth,
          auth = _ref$auth === undefined ? '' : _ref$auth,
          _ref$preview = _ref.preview,
          preview = _ref$preview === undefined ? '' : _ref$preview;
      var gtm = this.gtm({
        id: gtmId,
        events: events,
        dataLayer: dataLayer || undefined,
        dataLayerName: dataLayerName,
        auth: auth,
        preview: preview
      });
      if (dataLayer) document.head.appendChild(gtm.dataScript);
      document.head.insertBefore(gtm.script(), document.head.childNodes[0]);
      document.body.insertBefore(gtm.noScript(), document.body.childNodes[0]);
    },
    dataLayer: function dataLayer(_ref2) {
      var _dataLayer = _ref2.dataLayer,
          _ref2$dataLayerName = _ref2.dataLayerName,
          dataLayerName = _ref2$dataLayerName === undefined ? 'dataLayer' : _ref2$dataLayerName;
      if (window[dataLayerName]) return window[dataLayerName].push(_dataLayer);

      var snippets = _Snippets2.default.dataLayer(_dataLayer, dataLayerName);

      var dataScript = this.dataScript(snippets);
      document.head.insertBefore(dataScript, document.head.childNodes[0]);
    }
  };
  var TagManager_1 = TagManager;

  var _TagManager = TagManager_1;

  var _TagManager2 = _interopRequireDefault(_TagManager);

  function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
      default: obj
    };
  }

  var dist = _TagManager2.default;

  const InitializeGTM = props => {
    react.useEffect(() => {
      if (!mx.ga4Connected) {
        // flag to prevent onNavigation from sending multiple page views after things like after widget load, after show page, etc.
        // dataUnavailable check here because the render function will take care of calling it multiple times
        let dataUnavailable = false;

        for (let object of props.additionalProps) {
          if (object.propDataSource.status !== 'available') {
            dataUnavailable = true;
          }
        }

        if (!dataUnavailable) {
          const origOnNavigation = mx.ui.getContentForm().onNavigation; // save what the original onNavigation function did

          mx.ui.getContentForm().onNavigation = () => {
            // Custom Actions
            if (props.sendCustomProps === false) {
              const tagManagerArgsInitialize = {
                gtmId: props.measurementID
              };
              dist.initialize(tagManagerArgsInitialize);
            } else {
              let dataLayerStructure = function (props) {
                var dataLayer = '{"event":"' + props.pageViewEventName + '",'; // initialize the dataLayer variable

                if (props.sendPageTitle) {
                  // send page title
                  dataLayer += '"Page Name":"' + mx.ui.getContentForm().title + '",';
                }

                if (props.sendModuleLocation) {
                  // send module location
                  var modulePath = mx.ui.getContentForm().path;

                  var moduleLocation = function (modulePath) {
                    var pageExtension = ".page.xml";
                    var path = modulePath.substr(0, modulePath.length - pageExtension.length);
                    return path;
                  }(modulePath);

                  dataLayer += '"Module Location":"' + moduleLocation + '",';
                }

                if (props.sendPageURL) {
                  // send page URL
                  if (mx.ui.getContentForm().url !== null) {
                    var pageURL = window.location.origin + mx.ui.getContentForm().url;
                  } else {
                    var pageURL = window.location.origin;
                  }

                  var trimmedURL = function (fullURL) {
                    var lastCharIndex = fullURL.lastIndexOf("/");
                    var endString = fullURL.substring(lastCharIndex + 1, fullURL.length);

                    if (isNaN(endString)) {
                      return fullURL; // the end of the string isn't a number, return the whole thing
                    } else {
                      return fullPath.substr(0, lastCharIndex); // the end of the string is a number, trim it
                    }
                  }(pageURL);

                  dataLayer += '"Page URL":"' + trimmedURL + '",';
                }

                if (props.sendSessionID) {
                  // send session ID
                  dataLayer += '"Session ID":"' + mx.session.getSessionObjectId() + '",';
                }

                if (props.sendAdditionalProps) {
                  // send additional properties
                  let expressionResult = '';

                  for (let line of props.additionalProps) {
                    for (let object of line.propDataSource.items) {
                      // object is an item in the list that is returned from the data source
                      expressionResult += line.propValue.get(object).value + ', ';
                    }

                    expressionResult = expressionResult.replace(/,\s*$/, "");
                    dataLayer += '"' + line.propName + '":"' + expressionResult + '",';
                    expressionResult = '';
                  }
                }

                dataLayer = dataLayer.replace(/,\s*$/, ""); // remove the last comma from the dataLayer variable

                dataLayer += "}";
                return JSON.parse(dataLayer);
              };

              let dataLayer = dataLayerStructure(props);
              const tagManagerArgs = {
                gtmId: props.measurementID,
                dataLayer
              };
              dist.initialize(tagManagerArgs);
            }

            mx.ga4Connected = true; // We have sent the page hit, now toggle the switch off to avoid sending duplicates
            // Original Actions

            origOnNavigation();
            return () => {
            };
          };
        }
      }
    }); // no dependency array -> trigger on every load

    return null;
  };

  function GoogleTagManager({
    measurementID,
    sendCustomProps,
    pageViewEventName,
    sendPageTitle,
    sendModuleLocation,
    sendPageURL,
    sendSessionID,
    sendAdditionalProps,
    additionalProps
  }) {
    return react.createElement(InitializeGTM, {
      measurementID: measurementID,
      sendCustomProps: sendCustomProps,
      pageViewEventName: pageViewEventName,
      sendPageTitle: sendPageTitle,
      sendModuleLocation: sendModuleLocation,
      sendPageURL: sendPageURL,
      sendSessionID: sendSessionID,
      sendAdditionalProps: sendAdditionalProps,
      additionalProps: additionalProps
    });
  }

  exports.GoogleTagManager = GoogleTagManager;

  Object.defineProperty(exports, '__esModule', { value: true });

}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiR29vZ2xlVGFnTWFuYWdlci5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWd0bS1tb2R1bGUvZGlzdC91dGlscy93YXJuLmpzIiwiLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWd0bS1tb2R1bGUvZGlzdC9TbmlwcGV0cy5qcyIsIi4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1ndG0tbW9kdWxlL2Rpc3QvVGFnTWFuYWdlci5qcyIsIi4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1ndG0tbW9kdWxlL2Rpc3QvaW5kZXguanMiLCIuLi8uLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy9Jbml0aWFsaXplR1RNLmpzeCIsIi4uLy4uLy4uLy4uLy4uL3NyYy9Hb29nbGVUYWdNYW5hZ2VyLmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG52YXIgd2FybiA9IGZ1bmN0aW9uIHdhcm4ocykge1xuICBjb25zb2xlLndhcm4oJ1tyZWFjdC1ndG1dJywgcyk7XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSB3YXJuOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIF93YXJuID0gcmVxdWlyZSgnLi91dGlscy93YXJuJyk7XG5cbnZhciBfd2FybjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLy8gaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vdGFnLW1hbmFnZXIvcXVpY2tzdGFydFxuXG52YXIgU25pcHBldHMgPSB7XG4gIHRhZ3M6IGZ1bmN0aW9uIHRhZ3MoX3JlZikge1xuICAgIHZhciBpZCA9IF9yZWYuaWQsXG4gICAgICAgIGV2ZW50cyA9IF9yZWYuZXZlbnRzLFxuICAgICAgICBkYXRhTGF5ZXIgPSBfcmVmLmRhdGFMYXllcixcbiAgICAgICAgZGF0YUxheWVyTmFtZSA9IF9yZWYuZGF0YUxheWVyTmFtZSxcbiAgICAgICAgcHJldmlldyA9IF9yZWYucHJldmlldyxcbiAgICAgICAgYXV0aCA9IF9yZWYuYXV0aDtcblxuICAgIHZhciBndG1fYXV0aCA9ICcmZ3RtX2F1dGg9JyArIGF1dGg7XG4gICAgdmFyIGd0bV9wcmV2aWV3ID0gJyZndG1fcHJldmlldz0nICsgcHJldmlldztcblxuICAgIGlmICghaWQpICgwLCBfd2FybjIuZGVmYXVsdCkoJ0dUTSBJZCBpcyByZXF1aXJlZCcpO1xuXG4gICAgdmFyIGlmcmFtZSA9ICdcXG4gICAgICA8aWZyYW1lIHNyYz1cImh0dHBzOi8vd3d3Lmdvb2dsZXRhZ21hbmFnZXIuY29tL25zLmh0bWw/aWQ9JyArIGlkICsgZ3RtX2F1dGggKyBndG1fcHJldmlldyArICcmZ3RtX2Nvb2tpZXNfd2luPXhcIlxcbiAgICAgICAgaGVpZ2h0PVwiMFwiIHdpZHRoPVwiMFwiIHN0eWxlPVwiZGlzcGxheTpub25lO3Zpc2liaWxpdHk6aGlkZGVuXCIgaWQ9XCJ0YWctbWFuYWdlclwiPjwvaWZyYW1lPic7XG5cbiAgICB2YXIgc2NyaXB0ID0gJ1xcbiAgICAgIChmdW5jdGlvbih3LGQscyxsLGkpe3dbbF09d1tsXXx8W107XFxuICAgICAgICB3W2xdLnB1c2goe1xcJ2d0bS5zdGFydFxcJzogbmV3IERhdGUoKS5nZXRUaW1lKCksZXZlbnQ6XFwnZ3RtLmpzXFwnLCAnICsgSlNPTi5zdHJpbmdpZnkoZXZlbnRzKS5zbGljZSgxLCAtMSkgKyAnfSk7XFxuICAgICAgICB2YXIgZj1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKHMpWzBdLGo9ZC5jcmVhdGVFbGVtZW50KHMpLGRsPWwhPVxcJ2RhdGFMYXllclxcJz9cXCcmbD1cXCcrbDpcXCdcXCc7XFxuICAgICAgICBqLmFzeW5jPXRydWU7ai5zcmM9XFwnaHR0cHM6Ly93d3cuZ29vZ2xldGFnbWFuYWdlci5jb20vZ3RtLmpzP2lkPVxcJytpK2RsK1xcJycgKyBndG1fYXV0aCArIGd0bV9wcmV2aWV3ICsgJyZndG1fY29va2llc193aW49eFxcJztcXG4gICAgICAgIGYucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoaixmKTtcXG4gICAgICB9KSh3aW5kb3csZG9jdW1lbnQsXFwnc2NyaXB0XFwnLFxcJycgKyBkYXRhTGF5ZXJOYW1lICsgJ1xcJyxcXCcnICsgaWQgKyAnXFwnKTsnO1xuXG4gICAgdmFyIGRhdGFMYXllclZhciA9IHRoaXMuZGF0YUxheWVyKGRhdGFMYXllciwgZGF0YUxheWVyTmFtZSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgaWZyYW1lOiBpZnJhbWUsXG4gICAgICBzY3JpcHQ6IHNjcmlwdCxcbiAgICAgIGRhdGFMYXllclZhcjogZGF0YUxheWVyVmFyXG4gICAgfTtcbiAgfSxcbiAgZGF0YUxheWVyOiBmdW5jdGlvbiBkYXRhTGF5ZXIoX2RhdGFMYXllciwgZGF0YUxheWVyTmFtZSkge1xuICAgIHJldHVybiAnXFxuICAgICAgd2luZG93LicgKyBkYXRhTGF5ZXJOYW1lICsgJyA9IHdpbmRvdy4nICsgZGF0YUxheWVyTmFtZSArICcgfHwgW107XFxuICAgICAgd2luZG93LicgKyBkYXRhTGF5ZXJOYW1lICsgJy5wdXNoKCcgKyBKU09OLnN0cmluZ2lmeShfZGF0YUxheWVyKSArICcpJztcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBTbmlwcGV0czsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBfU25pcHBldHMgPSByZXF1aXJlKCcuL1NuaXBwZXRzJyk7XG5cbnZhciBfU25pcHBldHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU25pcHBldHMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgVGFnTWFuYWdlciA9IHtcbiAgZGF0YVNjcmlwdDogZnVuY3Rpb24gZGF0YVNjcmlwdChkYXRhTGF5ZXIpIHtcbiAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgc2NyaXB0LmlubmVySFRNTCA9IGRhdGFMYXllcjtcbiAgICByZXR1cm4gc2NyaXB0O1xuICB9LFxuICBndG06IGZ1bmN0aW9uIGd0bShhcmdzKSB7XG4gICAgdmFyIHNuaXBwZXRzID0gX1NuaXBwZXRzMi5kZWZhdWx0LnRhZ3MoYXJncyk7XG5cbiAgICB2YXIgbm9TY3JpcHQgPSBmdW5jdGlvbiBub1NjcmlwdCgpIHtcbiAgICAgIHZhciBub3NjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ25vc2NyaXB0Jyk7XG4gICAgICBub3NjcmlwdC5pbm5lckhUTUwgPSBzbmlwcGV0cy5pZnJhbWU7XG4gICAgICByZXR1cm4gbm9zY3JpcHQ7XG4gICAgfTtcblxuICAgIHZhciBzY3JpcHQgPSBmdW5jdGlvbiBzY3JpcHQoKSB7XG4gICAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICBzY3JpcHQuaW5uZXJIVE1MID0gc25pcHBldHMuc2NyaXB0O1xuICAgICAgcmV0dXJuIHNjcmlwdDtcbiAgICB9O1xuXG4gICAgdmFyIGRhdGFTY3JpcHQgPSB0aGlzLmRhdGFTY3JpcHQoc25pcHBldHMuZGF0YUxheWVyVmFyKTtcblxuICAgIHJldHVybiB7XG4gICAgICBub1NjcmlwdDogbm9TY3JpcHQsXG4gICAgICBzY3JpcHQ6IHNjcmlwdCxcbiAgICAgIGRhdGFTY3JpcHQ6IGRhdGFTY3JpcHRcbiAgICB9O1xuICB9LFxuICBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKF9yZWYpIHtcbiAgICB2YXIgZ3RtSWQgPSBfcmVmLmd0bUlkLFxuICAgICAgICBfcmVmJGV2ZW50cyA9IF9yZWYuZXZlbnRzLFxuICAgICAgICBldmVudHMgPSBfcmVmJGV2ZW50cyA9PT0gdW5kZWZpbmVkID8ge30gOiBfcmVmJGV2ZW50cyxcbiAgICAgICAgZGF0YUxheWVyID0gX3JlZi5kYXRhTGF5ZXIsXG4gICAgICAgIF9yZWYkZGF0YUxheWVyTmFtZSA9IF9yZWYuZGF0YUxheWVyTmFtZSxcbiAgICAgICAgZGF0YUxheWVyTmFtZSA9IF9yZWYkZGF0YUxheWVyTmFtZSA9PT0gdW5kZWZpbmVkID8gJ2RhdGFMYXllcicgOiBfcmVmJGRhdGFMYXllck5hbWUsXG4gICAgICAgIF9yZWYkYXV0aCA9IF9yZWYuYXV0aCxcbiAgICAgICAgYXV0aCA9IF9yZWYkYXV0aCA9PT0gdW5kZWZpbmVkID8gJycgOiBfcmVmJGF1dGgsXG4gICAgICAgIF9yZWYkcHJldmlldyA9IF9yZWYucHJldmlldyxcbiAgICAgICAgcHJldmlldyA9IF9yZWYkcHJldmlldyA9PT0gdW5kZWZpbmVkID8gJycgOiBfcmVmJHByZXZpZXc7XG5cbiAgICB2YXIgZ3RtID0gdGhpcy5ndG0oe1xuICAgICAgaWQ6IGd0bUlkLFxuICAgICAgZXZlbnRzOiBldmVudHMsXG4gICAgICBkYXRhTGF5ZXI6IGRhdGFMYXllciB8fCB1bmRlZmluZWQsXG4gICAgICBkYXRhTGF5ZXJOYW1lOiBkYXRhTGF5ZXJOYW1lLFxuICAgICAgYXV0aDogYXV0aCxcbiAgICAgIHByZXZpZXc6IHByZXZpZXdcbiAgICB9KTtcbiAgICBpZiAoZGF0YUxheWVyKSBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGd0bS5kYXRhU2NyaXB0KTtcbiAgICBkb2N1bWVudC5oZWFkLmluc2VydEJlZm9yZShndG0uc2NyaXB0KCksIGRvY3VtZW50LmhlYWQuY2hpbGROb2Rlc1swXSk7XG4gICAgZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUoZ3RtLm5vU2NyaXB0KCksIGRvY3VtZW50LmJvZHkuY2hpbGROb2Rlc1swXSk7XG4gIH0sXG4gIGRhdGFMYXllcjogZnVuY3Rpb24gZGF0YUxheWVyKF9yZWYyKSB7XG4gICAgdmFyIF9kYXRhTGF5ZXIgPSBfcmVmMi5kYXRhTGF5ZXIsXG4gICAgICAgIF9yZWYyJGRhdGFMYXllck5hbWUgPSBfcmVmMi5kYXRhTGF5ZXJOYW1lLFxuICAgICAgICBkYXRhTGF5ZXJOYW1lID0gX3JlZjIkZGF0YUxheWVyTmFtZSA9PT0gdW5kZWZpbmVkID8gJ2RhdGFMYXllcicgOiBfcmVmMiRkYXRhTGF5ZXJOYW1lO1xuXG4gICAgaWYgKHdpbmRvd1tkYXRhTGF5ZXJOYW1lXSkgcmV0dXJuIHdpbmRvd1tkYXRhTGF5ZXJOYW1lXS5wdXNoKF9kYXRhTGF5ZXIpO1xuICAgIHZhciBzbmlwcGV0cyA9IF9TbmlwcGV0czIuZGVmYXVsdC5kYXRhTGF5ZXIoX2RhdGFMYXllciwgZGF0YUxheWVyTmFtZSk7XG4gICAgdmFyIGRhdGFTY3JpcHQgPSB0aGlzLmRhdGFTY3JpcHQoc25pcHBldHMpO1xuICAgIGRvY3VtZW50LmhlYWQuaW5zZXJ0QmVmb3JlKGRhdGFTY3JpcHQsIGRvY3VtZW50LmhlYWQuY2hpbGROb2Rlc1swXSk7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gVGFnTWFuYWdlcjsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBfVGFnTWFuYWdlciA9IHJlcXVpcmUoJy4vVGFnTWFuYWdlcicpO1xuXG52YXIgX1RhZ01hbmFnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGFnTWFuYWdlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbm1vZHVsZS5leHBvcnRzID0gX1RhZ01hbmFnZXIyLmRlZmF1bHQ7IiwiaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCBUYWdNYW5hZ2VyIGZyb20gJ3JlYWN0LWd0bS1tb2R1bGUnXHJcblxyXG5jb25zdCBJbml0aWFsaXplR1RNID0gKCBwcm9wcyApID0+IHtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuXHJcbiAgICBpZiAoIW14LmdhNENvbm5lY3RlZCkgeyAvLyBmbGFnIHRvIHByZXZlbnQgb25OYXZpZ2F0aW9uIGZyb20gc2VuZGluZyBtdWx0aXBsZSBwYWdlIHZpZXdzIGFmdGVyIHRoaW5ncyBsaWtlIGFmdGVyIHdpZGdldCBsb2FkLCBhZnRlciBzaG93IHBhZ2UsIGV0Yy5cclxuICAgICAgXHJcbiAgICAgIC8vIGRhdGFVbmF2YWlsYWJsZSBjaGVjayBoZXJlIGJlY2F1c2UgdGhlIHJlbmRlciBmdW5jdGlvbiB3aWxsIHRha2UgY2FyZSBvZiBjYWxsaW5nIGl0IG11bHRpcGxlIHRpbWVzXHJcbiAgICAgIGxldCBkYXRhVW5hdmFpbGFibGUgPSBmYWxzZTtcclxuICAgICAgZm9yIChsZXQgb2JqZWN0IG9mIHByb3BzLmFkZGl0aW9uYWxQcm9wcykge1xyXG4gICAgICAgIGlmIChvYmplY3QucHJvcERhdGFTb3VyY2Uuc3RhdHVzICE9PSAnYXZhaWxhYmxlJykge1xyXG4gICAgICAgICAgZGF0YVVuYXZhaWxhYmxlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghZGF0YVVuYXZhaWxhYmxlKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IG9yaWdPbk5hdmlnYXRpb24gPSBteC51aS5nZXRDb250ZW50Rm9ybSgpLm9uTmF2aWdhdGlvbjsgLy8gc2F2ZSB3aGF0IHRoZSBvcmlnaW5hbCBvbk5hdmlnYXRpb24gZnVuY3Rpb24gZGlkXHJcbiAgICAgICAgbXgudWkuZ2V0Q29udGVudEZvcm0oKS5vbk5hdmlnYXRpb24gPSAoKSA9PiB7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIEN1c3RvbSBBY3Rpb25zXHJcbiAgICAgICAgICBpZiAocHJvcHMuc2VuZEN1c3RvbVByb3BzID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBjb25zdCB0YWdNYW5hZ2VyQXJnc0luaXRpYWxpemUgPSB7XHJcbiAgICAgICAgICAgICAgZ3RtSWQ6IHByb3BzLm1lYXN1cmVtZW50SURcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgVGFnTWFuYWdlci5pbml0aWFsaXplKHRhZ01hbmFnZXJBcmdzSW5pdGlhbGl6ZSlcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhTGF5ZXJTdHJ1Y3R1cmUgPSBmdW5jdGlvbihwcm9wcykge1xyXG4gICAgICAgICAgICAgIHZhciBkYXRhTGF5ZXIgPSAne1wiZXZlbnRcIjpcIicgKyBwcm9wcy5wYWdlVmlld0V2ZW50TmFtZSArICdcIiwnOyAvLyBpbml0aWFsaXplIHRoZSBkYXRhTGF5ZXIgdmFyaWFibGVcclxuXHJcbiAgICAgICAgICAgICAgaWYgKHByb3BzLnNlbmRQYWdlVGl0bGUpIHsgLy8gc2VuZCBwYWdlIHRpdGxlXHJcbiAgICAgICAgICAgICAgICBkYXRhTGF5ZXIgKz0gJ1wiUGFnZSBOYW1lXCI6XCInICsgbXgudWkuZ2V0Q29udGVudEZvcm0oKS50aXRsZSArICdcIiwnO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgaWYgKHByb3BzLnNlbmRNb2R1bGVMb2NhdGlvbikgeyAvLyBzZW5kIG1vZHVsZSBsb2NhdGlvblxyXG4gICAgICAgICAgICAgICAgdmFyIG1vZHVsZVBhdGggPSBteC51aS5nZXRDb250ZW50Rm9ybSgpLnBhdGg7XHJcbiAgICAgICAgICAgICAgICB2YXIgbW9kdWxlTG9jYXRpb24gPSAoZnVuY3Rpb24obW9kdWxlUGF0aCkge1xyXG4gICAgICAgICAgICAgICAgICB2YXIgcGFnZUV4dGVuc2lvbiA9IFwiLnBhZ2UueG1sXCI7XHJcbiAgICAgICAgICAgICAgICAgIHZhciBwYXRoID0gbW9kdWxlUGF0aC5zdWJzdHIoMCwgbW9kdWxlUGF0aC5sZW5ndGggLSBwYWdlRXh0ZW5zaW9uLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBwYXRoO1xyXG4gICAgICAgICAgICAgICAgfShtb2R1bGVQYXRoKSk7XHJcbiAgICAgICAgICAgICAgICBkYXRhTGF5ZXIgKz0gJ1wiTW9kdWxlIExvY2F0aW9uXCI6XCInICsgbW9kdWxlTG9jYXRpb24gKyAnXCIsJztcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIGlmIChwcm9wcy5zZW5kUGFnZVVSTCkgeyAvLyBzZW5kIHBhZ2UgVVJMXHJcbiAgICAgICAgICAgICAgICBpZiAobXgudWkuZ2V0Q29udGVudEZvcm0oKS51cmwgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgdmFyIHBhZ2VVUkwgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgbXgudWkuZ2V0Q29udGVudEZvcm0oKS51cmw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICB2YXIgcGFnZVVSTCA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHRyaW1tZWRVUkwgPSAoZnVuY3Rpb24oZnVsbFVSTCkge1xyXG4gICAgICAgICAgICAgICAgICB2YXIgbGFzdENoYXJJbmRleCA9IGZ1bGxVUkwubGFzdEluZGV4T2YoXCIvXCIpO1xyXG4gICAgICAgICAgICAgICAgICB2YXIgZW5kU3RyaW5nID0gZnVsbFVSTC5zdWJzdHJpbmcobGFzdENoYXJJbmRleCArIDEsZnVsbFVSTC5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oZW5kU3RyaW5nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmdWxsVVJMOyAvLyB0aGUgZW5kIG9mIHRoZSBzdHJpbmcgaXNuJ3QgYSBudW1iZXIsIHJldHVybiB0aGUgd2hvbGUgdGhpbmdcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVsbFBhdGguc3Vic3RyKDAsbGFzdENoYXJJbmRleCk7IC8vIHRoZSBlbmQgb2YgdGhlIHN0cmluZyBpcyBhIG51bWJlciwgdHJpbSBpdFxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KHBhZ2VVUkwpKTtcclxuICAgICAgICAgICAgICAgIGRhdGFMYXllciArPSAnXCJQYWdlIFVSTFwiOlwiJyArIHRyaW1tZWRVUkwgKyAnXCIsJztcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIGlmIChwcm9wcy5zZW5kU2Vzc2lvbklEKSB7IC8vIHNlbmQgc2Vzc2lvbiBJRFxyXG4gICAgICAgICAgICAgICAgZGF0YUxheWVyICs9ICdcIlNlc3Npb24gSURcIjpcIicgKyBteC5zZXNzaW9uLmdldFNlc3Npb25PYmplY3RJZCgpICsgJ1wiLCc7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBpZiAocHJvcHMuc2VuZEFkZGl0aW9uYWxQcm9wcykgeyAvLyBzZW5kIGFkZGl0aW9uYWwgcHJvcGVydGllc1xyXG4gICAgICAgICAgICAgICAgbGV0IGV4cHJlc3Npb25SZXN1bHQ9ICcnO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGxpbmUgb2YgcHJvcHMuYWRkaXRpb25hbFByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICAgIGZvciAobGV0IG9iamVjdCBvZiBsaW5lLnByb3BEYXRhU291cmNlLml0ZW1zKSB7IC8vIG9iamVjdCBpcyBhbiBpdGVtIGluIHRoZSBsaXN0IHRoYXQgaXMgcmV0dXJuZWQgZnJvbSB0aGUgZGF0YSBzb3VyY2VcclxuICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uUmVzdWx0ICs9IGxpbmUucHJvcFZhbHVlLmdldChvYmplY3QpLnZhbHVlICsgJywgJztcclxuICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvblJlc3VsdCA9IGV4cHJlc3Npb25SZXN1bHQucmVwbGFjZSgvLFxccyokLywgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgIGRhdGFMYXllciArPSAnXCInICsgbGluZS5wcm9wTmFtZSArICdcIjpcIicgKyBleHByZXNzaW9uUmVzdWx0ICsgJ1wiLCc7XHJcbiAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb25SZXN1bHQgPSAnJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgZGF0YUxheWVyID0gZGF0YUxheWVyLnJlcGxhY2UoLyxcXHMqJC8sIFwiXCIpOyAvLyByZW1vdmUgdGhlIGxhc3QgY29tbWEgZnJvbSB0aGUgZGF0YUxheWVyIHZhcmlhYmxlXHJcbiAgICAgICAgICAgICAgZGF0YUxheWVyICs9IFwifVwiXHJcbiAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZGF0YUxheWVyKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGRhdGFMYXllciA9IGRhdGFMYXllclN0cnVjdHVyZShwcm9wcyk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCB0YWdNYW5hZ2VyQXJncyA9IHtcclxuICAgICAgICAgICAgICBndG1JZDogcHJvcHMubWVhc3VyZW1lbnRJRCxcclxuICAgICAgICAgICAgICBkYXRhTGF5ZXJcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgVGFnTWFuYWdlci5pbml0aWFsaXplKHRhZ01hbmFnZXJBcmdzKVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIG14LmdhNENvbm5lY3RlZCA9IHRydWU7IC8vIFdlIGhhdmUgc2VudCB0aGUgcGFnZSBoaXQsIG5vdyB0b2dnbGUgdGhlIHN3aXRjaCBvZmYgdG8gYXZvaWQgc2VuZGluZyBkdXBsaWNhdGVzXHJcblxyXG4gICAgICAgICAgLy8gT3JpZ2luYWwgQWN0aW9uc1xyXG4gICAgICAgICAgb3JpZ09uTmF2aWdhdGlvbigpO1xyXG4gICAgICAgIFxyXG5cclxuICAgICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIG51bGw7XHJcbiAgICAgICAgICB9IFxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pOyAvLyBubyBkZXBlbmRlbmN5IGFycmF5IC0+IHRyaWdnZXIgb24gZXZlcnkgbG9hZFxyXG5cclxuICByZXR1cm4gbnVsbDtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgSW5pdGlhbGl6ZUdUTSIsImltcG9ydCB7IGNyZWF0ZUVsZW1lbnQgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBJbml0aWFsaXplR1RNIGZyb20gXCIuL2NvbXBvbmVudHMvSW5pdGlhbGl6ZUdUTVwiO1xuXG5leHBvcnQgZnVuY3Rpb24gR29vZ2xlVGFnTWFuYWdlcih7IG1lYXN1cmVtZW50SUQsIHNlbmRDdXN0b21Qcm9wcywgcGFnZVZpZXdFdmVudE5hbWUsIHNlbmRQYWdlVGl0bGUsIHNlbmRNb2R1bGVMb2NhdGlvbiwgc2VuZFBhZ2VVUkwsIHNlbmRTZXNzaW9uSUQsIHNlbmRBZGRpdGlvbmFsUHJvcHMsIGFkZGl0aW9uYWxQcm9wcyB9KSB7XG4gICAgcmV0dXJuIDxJbml0aWFsaXplR1RNIG1lYXN1cmVtZW50SUQ9e21lYXN1cmVtZW50SUR9IHNlbmRDdXN0b21Qcm9wcz17c2VuZEN1c3RvbVByb3BzfSBwYWdlVmlld0V2ZW50TmFtZT17cGFnZVZpZXdFdmVudE5hbWV9IHNlbmRQYWdlVGl0bGU9e3NlbmRQYWdlVGl0bGV9IHNlbmRNb2R1bGVMb2NhdGlvbj17c2VuZE1vZHVsZUxvY2F0aW9ufSBzZW5kUGFnZVVSTD17c2VuZFBhZ2VVUkx9IHNlbmRTZXNzaW9uSUQ9e3NlbmRTZXNzaW9uSUR9IHNlbmRBZGRpdGlvbmFsUHJvcHM9e3NlbmRBZGRpdGlvbmFsUHJvcHN9IGFkZGl0aW9uYWxQcm9wcz17YWRkaXRpb25hbFByb3BzfSAvPjtcbn0iXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJ3YXJuIiwicyIsImNvbnNvbGUiLCJfd2FybiIsInJlcXVpcmUiLCJfd2FybjIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJTbmlwcGV0cyIsInRhZ3MiLCJfcmVmIiwiaWQiLCJldmVudHMiLCJkYXRhTGF5ZXIiLCJkYXRhTGF5ZXJOYW1lIiwicHJldmlldyIsImF1dGgiLCJndG1fYXV0aCIsImd0bV9wcmV2aWV3IiwiaWZyYW1lIiwic2NyaXB0IiwiSlNPTiIsInN0cmluZ2lmeSIsInNsaWNlIiwiZGF0YUxheWVyVmFyIiwiX2RhdGFMYXllciIsIm1vZHVsZSIsIl9TbmlwcGV0cyIsIl9TbmlwcGV0czIiLCJUYWdNYW5hZ2VyIiwiZGF0YVNjcmlwdCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsImd0bSIsImFyZ3MiLCJzbmlwcGV0cyIsIm5vU2NyaXB0Iiwibm9zY3JpcHQiLCJpbml0aWFsaXplIiwiZ3RtSWQiLCJfcmVmJGV2ZW50cyIsInVuZGVmaW5lZCIsIl9yZWYkZGF0YUxheWVyTmFtZSIsIl9yZWYkYXV0aCIsIl9yZWYkcHJldmlldyIsImhlYWQiLCJhcHBlbmRDaGlsZCIsImluc2VydEJlZm9yZSIsImNoaWxkTm9kZXMiLCJib2R5IiwiX3JlZjIiLCJfcmVmMiRkYXRhTGF5ZXJOYW1lIiwid2luZG93IiwicHVzaCIsIl9UYWdNYW5hZ2VyIiwiX1RhZ01hbmFnZXIyIiwiSW5pdGlhbGl6ZUdUTSIsInByb3BzIiwidXNlRWZmZWN0IiwibXgiLCJnYTRDb25uZWN0ZWQiLCJkYXRhVW5hdmFpbGFibGUiLCJvYmplY3QiLCJhZGRpdGlvbmFsUHJvcHMiLCJwcm9wRGF0YVNvdXJjZSIsInN0YXR1cyIsIm9yaWdPbk5hdmlnYXRpb24iLCJ1aSIsImdldENvbnRlbnRGb3JtIiwib25OYXZpZ2F0aW9uIiwic2VuZEN1c3RvbVByb3BzIiwidGFnTWFuYWdlckFyZ3NJbml0aWFsaXplIiwibWVhc3VyZW1lbnRJRCIsImRhdGFMYXllclN0cnVjdHVyZSIsInBhZ2VWaWV3RXZlbnROYW1lIiwic2VuZFBhZ2VUaXRsZSIsInRpdGxlIiwic2VuZE1vZHVsZUxvY2F0aW9uIiwibW9kdWxlUGF0aCIsInBhdGgiLCJtb2R1bGVMb2NhdGlvbiIsInBhZ2VFeHRlbnNpb24iLCJzdWJzdHIiLCJsZW5ndGgiLCJzZW5kUGFnZVVSTCIsInVybCIsInBhZ2VVUkwiLCJsb2NhdGlvbiIsIm9yaWdpbiIsInRyaW1tZWRVUkwiLCJmdWxsVVJMIiwibGFzdENoYXJJbmRleCIsImxhc3RJbmRleE9mIiwiZW5kU3RyaW5nIiwic3Vic3RyaW5nIiwiaXNOYU4iLCJmdWxsUGF0aCIsInNlbmRTZXNzaW9uSUQiLCJzZXNzaW9uIiwiZ2V0U2Vzc2lvbk9iamVjdElkIiwic2VuZEFkZGl0aW9uYWxQcm9wcyIsImV4cHJlc3Npb25SZXN1bHQiLCJsaW5lIiwiaXRlbXMiLCJwcm9wVmFsdWUiLCJnZXQiLCJyZXBsYWNlIiwicHJvcE5hbWUiLCJwYXJzZSIsInRhZ01hbmFnZXJBcmdzIiwiR29vZ2xlVGFnTWFuYWdlciJdLCJtYXBwaW5ncyI6Ijs7OztFQUVBQSxNQUFNLENBQUNDLGNBQVAsQ0FBc0JDLE1BQXRCLEVBQStCLFlBQS9CLEVBQTZDO0VBQzNDQyxFQUFBQSxLQUFLLEVBQUU7RUFEb0MsQ0FBN0M7O0VBR0EsSUFBSUMsSUFBSSxHQUFHLFNBQVNBLElBQVQsQ0FBY0MsQ0FBZCxFQUFpQjtFQUMxQkMsRUFBQUEsT0FBTyxDQUFDRixJQUFSLENBQWEsYUFBYixFQUE0QkMsQ0FBNUI7RUFDRCxDQUZEOztnQkFJQSxHQUFrQkQ7O0VDUGxCLElBQUlHLEtBQUssR0FBR0MsTUFBWjs7RUFFQSxJQUFJQyxNQUFN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
