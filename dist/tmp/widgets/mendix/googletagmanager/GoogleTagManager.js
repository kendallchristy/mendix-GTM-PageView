define(['exports', 'react'], (function (exports, react) { 'use strict';

  var warn$1 = {};

  Object.defineProperty(warn$1, "__esModule", {
    value: true
  });

  var warn = function warn(s) {
    console.warn('[react-gtm]', s);
  };

  warn$1.default = warn;

  var _warn = warn$1;

  var _warn2 = _interopRequireDefault$2(_warn);

  function _interopRequireDefault$2(obj) {
    return obj && obj.__esModule ? obj : {
      default: obj
    };
  } // https://developers.google.com/tag-manager/quickstart


  var Snippets = {
    tags: function tags(_ref) {
      var id = _ref.id,
          events = _ref.events,
          dataLayer = _ref.dataLayer,
          dataLayerName = _ref.dataLayerName,
          preview = _ref.preview,
          auth = _ref.auth;
      var gtm_auth = '&gtm_auth=' + auth;
      var gtm_preview = '&gtm_preview=' + preview;
      if (!id) (0, _warn2.default)('GTM Id is required');
      var iframe = '\n      <iframe src="https://www.googletagmanager.com/ns.html?id=' + id + gtm_auth + gtm_preview + '&gtm_cookies_win=x"\n        height="0" width="0" style="display:none;visibility:hidden" id="tag-manager"></iframe>';
      var script = '\n      (function(w,d,s,l,i){w[l]=w[l]||[];\n        w[l].push({\'gtm.start\': new Date().getTime(),event:\'gtm.js\', ' + JSON.stringify(events).slice(1, -1) + '});\n        var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!=\'dataLayer\'?\'&l=\'+l:\'\';\n        j.async=true;j.src=\'https://www.googletagmanager.com/gtm.js?id=\'+i+dl+\'' + gtm_auth + gtm_preview + '&gtm_cookies_win=x\';\n        f.parentNode.insertBefore(j,f);\n      })(window,document,\'script\',\'' + dataLayerName + '\',\'' + id + '\');';
      var dataLayerVar = this.dataLayer(dataLayer, dataLayerName);
      return {
        iframe: iframe,
        script: script,
        dataLayerVar: dataLayerVar
      };
    },
    dataLayer: function dataLayer(_dataLayer, dataLayerName) {
      return '\n      window.' + dataLayerName + ' = window.' + dataLayerName + ' || [];\n      window.' + dataLayerName + '.push(' + JSON.stringify(_dataLayer) + ')';
    }
  };
  var Snippets_1 = Snippets;

  var _Snippets = Snippets_1;

  var _Snippets2 = _interopRequireDefault$1(_Snippets);

  function _interopRequireDefault$1(obj) {
    return obj && obj.__esModule ? obj : {
      default: obj
    };
  }

  var TagManager = {
    dataScript: function dataScript(dataLayer) {
      var script = document.createElement('script');
      script.innerHTML = dataLayer;
      return script;
    },
    gtm: function gtm(args) {
      var snippets = _Snippets2.default.tags(args);

      var noScript = function noScript() {
        var noscript = document.createElement('noscript');
        noscript.innerHTML = snippets.iframe;
        return noscript;
      };

      var script = function script() {
        var script = document.createElement('script');
        script.innerHTML = snippets.script;
        return script;
      };

      var dataScript = this.dataScript(snippets.dataLayerVar);
      return {
        noScript: noScript,
        script: script,
        dataScript: dataScript
      };
    },
    initialize: function initialize(_ref) {
      var gtmId = _ref.gtmId,
          _ref$events = _ref.events,
          events = _ref$events === undefined ? {} : _ref$events,
          dataLayer = _ref.dataLayer,
          _ref$dataLayerName = _ref.dataLayerName,
          dataLayerName = _ref$dataLayerName === undefined ? 'dataLayer' : _ref$dataLayerName,
          _ref$auth = _ref.auth,
          auth = _ref$auth === undefined ? '' : _ref$auth,
          _ref$preview = _ref.preview,
          preview = _ref$preview === undefined ? '' : _ref$preview;
      var gtm = this.gtm({
        id: gtmId,
        events: events,
        dataLayer: dataLayer || undefined,
        dataLayerName: dataLayerName,
        auth: auth,
        preview: preview
      });
      if (dataLayer) document.head.appendChild(gtm.dataScript);
      document.head.insertBefore(gtm.script(), document.head.childNodes[0]);
      document.body.insertBefore(gtm.noScript(), document.body.childNodes[0]);
    },
    dataLayer: function dataLayer(_ref2) {
      var _dataLayer = _ref2.dataLayer,
          _ref2$dataLayerName = _ref2.dataLayerName,
          dataLayerName = _ref2$dataLayerName === undefined ? 'dataLayer' : _ref2$dataLayerName;
      if (window[dataLayerName]) return window[dataLayerName].push(_dataLayer);

      var snippets = _Snippets2.default.dataLayer(_dataLayer, dataLayerName);

      var dataScript = this.dataScript(snippets);
      document.head.insertBefore(dataScript, document.head.childNodes[0]);
    }
  };
  var TagManager_1 = TagManager;

  var _TagManager = TagManager_1;

  var _TagManager2 = _interopRequireDefault(_TagManager);

  function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
      default: obj
    };
  }

  var dist = _TagManager2.default;

  const InitializeGTM = props => {
    react.useEffect(() => {
      if (!mx.ga4Connected) {
        // we need the flag because onNavigation is called several times for things like after widget load, after show page, etc. If we remove the flag, then we send more than one page hit per page viewing
        const origOnNavigation = mx.ui.getContentForm().onNavigation; // cache what the original function did

        mx.ui.getContentForm().onNavigation = () => {
          // Complete custom actions
          debugger;

          if (props.sendCustomProps === false) {
            // onNavigation, flag goes in mx.<something>
            const tagManagerArgsInitialize = {
              gtmId: props.measurementID
            };
            dist.initialize(tagManagerArgsInitialize);
          } else {
            //
            let dataLayerStructure = function (props) {
              var dataLayer = '{"event":"' + props.pageViewEventName + '",';

              if (props.sendPageTitle) {
                dataLayer += '"Page Name":"' + mx.ui.getContentForm().title + '",';
              }

              if (props.sendModuleLocation) {
                var modulePath = mx.ui.getContentForm().path;

                var moduleLocation = function (modulePath) {
                  var pageExtension = ".page.xml";
                  var path = modulePath.substr(0, modulePath.length - pageExtension.length);
                  return path;
                }(modulePath);

                dataLayer += '"Module Location":"' + moduleLocation + '",';
              }

              if (props.sendPageURL) {
                if (mx.ui.getContentForm().url !== null) {
                  var pageURL = window.location.origin + mx.ui.getContentForm().url;
                } else {
                  var pageURL = window.location.origin;
                }

                var trimmedURL = function (fullURL) {
                  var lastCharIndex = fullURL.lastIndexOf("/");
                  var endString = fullURL.substring(lastCharIndex + 1, fullURL.length);

                  if (isNaN(endString)) {
                    return fullURL; // the end of the string isn't a number, return the whole thing
                  } else {
                    return fullPath.substr(0, lastCharIndex); // the end of the string is a number, trim it
                  }
                }(pageURL);

                dataLayer += '"Page URL":"' + trimmedURL + '",';
              }

              if (props.sendSessionID) {
                dataLayer += '"Session ID":"' + mx.session.getSessionObjectId() + '",';
              }

              if (props.sendAdditionalProps) {
                for (const [propName, propValue] of Object.entries(props.additionalProps)) {
                  dataLayer += '"' + propValue.propName + '":"' + propValue.propValue.value + '",';
                }
              }

              dataLayer = dataLayer.replace(/,\s*$/, ""); // remove the last comma

              dataLayer += "}";
              return JSON.parse(dataLayer);
            };

            let dataLayer = dataLayerStructure(props);
            const tagManagerArgs = {
              gtmId: props.measurementID,
              dataLayer
            };
            dist.initialize(tagManagerArgs);
          } //mx.previousLayout = mx.ui.getContentForm()._currentLayouts[0]; // set the previous layout after the page has loaded for the next comparison


          mx.ga4Connected = true; // Complete original actions

          origOnNavigation();
          return () => {
          };
        };
      }
    }, []);
    return null;
  };

  function GoogleTagManager({
    measurementID,
    sendCustomProps,
    pageViewEventName,
    sendPageTitle,
    sendModuleLocation,
    sendPageURL,
    sendSessionID,
    sendAdditionalProps,
    additionalProps
  }) {
    return react.createElement(InitializeGTM, {
      measurementID: measurementID,
      sendCustomProps: sendCustomProps,
      pageViewEventName: pageViewEventName,
      sendPageTitle: sendPageTitle,
      sendModuleLocation: sendModuleLocation,
      sendPageURL: sendPageURL,
      sendSessionID: sendSessionID,
      sendAdditionalProps: sendAdditionalProps,
      additionalProps: additionalProps
    });
  }

  exports.GoogleTagManager = GoogleTagManager;

  Object.defineProperty(exports, '__esModule', { value: true });

}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiR29vZ2xlVGFnTWFuYWdlci5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWd0bS1tb2R1bGUvZGlzdC91dGlscy93YXJuLmpzIiwiLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWd0bS1tb2R1bGUvZGlzdC9TbmlwcGV0cy5qcyIsIi4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1ndG0tbW9kdWxlL2Rpc3QvVGFnTWFuYWdlci5qcyIsIi4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1ndG0tbW9kdWxlL2Rpc3QvaW5kZXguanMiLCIuLi8uLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy9Jbml0aWFsaXplR1RNLmpzeCIsIi4uLy4uLy4uLy4uLy4uL3NyYy9Hb29nbGVUYWdNYW5hZ2VyLmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG52YXIgd2FybiA9IGZ1bmN0aW9uIHdhcm4ocykge1xuICBjb25zb2xlLndhcm4oJ1tyZWFjdC1ndG1dJywgcyk7XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSB3YXJuOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIF93YXJuID0gcmVxdWlyZSgnLi91dGlscy93YXJuJyk7XG5cbnZhciBfd2FybjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLy8gaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vdGFnLW1hbmFnZXIvcXVpY2tzdGFydFxuXG52YXIgU25pcHBldHMgPSB7XG4gIHRhZ3M6IGZ1bmN0aW9uIHRhZ3MoX3JlZikge1xuICAgIHZhciBpZCA9IF9yZWYuaWQsXG4gICAgICAgIGV2ZW50cyA9IF9yZWYuZXZlbnRzLFxuICAgICAgICBkYXRhTGF5ZXIgPSBfcmVmLmRhdGFMYXllcixcbiAgICAgICAgZGF0YUxheWVyTmFtZSA9IF9yZWYuZGF0YUxheWVyTmFtZSxcbiAgICAgICAgcHJldmlldyA9IF9yZWYucHJldmlldyxcbiAgICAgICAgYXV0aCA9IF9yZWYuYXV0aDtcblxuICAgIHZhciBndG1fYXV0aCA9ICcmZ3RtX2F1dGg9JyArIGF1dGg7XG4gICAgdmFyIGd0bV9wcmV2aWV3ID0gJyZndG1fcHJldmlldz0nICsgcHJldmlldztcblxuICAgIGlmICghaWQpICgwLCBfd2FybjIuZGVmYXVsdCkoJ0dUTSBJZCBpcyByZXF1aXJlZCcpO1xuXG4gICAgdmFyIGlmcmFtZSA9ICdcXG4gICAgICA8aWZyYW1lIHNyYz1cImh0dHBzOi8vd3d3Lmdvb2dsZXRhZ21hbmFnZXIuY29tL25zLmh0bWw/aWQ9JyArIGlkICsgZ3RtX2F1dGggKyBndG1fcHJldmlldyArICcmZ3RtX2Nvb2tpZXNfd2luPXhcIlxcbiAgICAgICAgaGVpZ2h0PVwiMFwiIHdpZHRoPVwiMFwiIHN0eWxlPVwiZGlzcGxheTpub25lO3Zpc2liaWxpdHk6aGlkZGVuXCIgaWQ9XCJ0YWctbWFuYWdlclwiPjwvaWZyYW1lPic7XG5cbiAgICB2YXIgc2NyaXB0ID0gJ1xcbiAgICAgIChmdW5jdGlvbih3LGQscyxsLGkpe3dbbF09d1tsXXx8W107XFxuICAgICAgICB3W2xdLnB1c2goe1xcJ2d0bS5zdGFydFxcJzogbmV3IERhdGUoKS5nZXRUaW1lKCksZXZlbnQ6XFwnZ3RtLmpzXFwnLCAnICsgSlNPTi5zdHJpbmdpZnkoZXZlbnRzKS5zbGljZSgxLCAtMSkgKyAnfSk7XFxuICAgICAgICB2YXIgZj1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKHMpWzBdLGo9ZC5jcmVhdGVFbGVtZW50KHMpLGRsPWwhPVxcJ2RhdGFMYXllclxcJz9cXCcmbD1cXCcrbDpcXCdcXCc7XFxuICAgICAgICBqLmFzeW5jPXRydWU7ai5zcmM9XFwnaHR0cHM6Ly93d3cuZ29vZ2xldGFnbWFuYWdlci5jb20vZ3RtLmpzP2lkPVxcJytpK2RsK1xcJycgKyBndG1fYXV0aCArIGd0bV9wcmV2aWV3ICsgJyZndG1fY29va2llc193aW49eFxcJztcXG4gICAgICAgIGYucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoaixmKTtcXG4gICAgICB9KSh3aW5kb3csZG9jdW1lbnQsXFwnc2NyaXB0XFwnLFxcJycgKyBkYXRhTGF5ZXJOYW1lICsgJ1xcJyxcXCcnICsgaWQgKyAnXFwnKTsnO1xuXG4gICAgdmFyIGRhdGFMYXllclZhciA9IHRoaXMuZGF0YUxheWVyKGRhdGFMYXllciwgZGF0YUxheWVyTmFtZSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgaWZyYW1lOiBpZnJhbWUsXG4gICAgICBzY3JpcHQ6IHNjcmlwdCxcbiAgICAgIGRhdGFMYXllclZhcjogZGF0YUxheWVyVmFyXG4gICAgfTtcbiAgfSxcbiAgZGF0YUxheWVyOiBmdW5jdGlvbiBkYXRhTGF5ZXIoX2RhdGFMYXllciwgZGF0YUxheWVyTmFtZSkge1xuICAgIHJldHVybiAnXFxuICAgICAgd2luZG93LicgKyBkYXRhTGF5ZXJOYW1lICsgJyA9IHdpbmRvdy4nICsgZGF0YUxheWVyTmFtZSArICcgfHwgW107XFxuICAgICAgd2luZG93LicgKyBkYXRhTGF5ZXJOYW1lICsgJy5wdXNoKCcgKyBKU09OLnN0cmluZ2lmeShfZGF0YUxheWVyKSArICcpJztcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBTbmlwcGV0czsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBfU25pcHBldHMgPSByZXF1aXJlKCcuL1NuaXBwZXRzJyk7XG5cbnZhciBfU25pcHBldHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU25pcHBldHMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgVGFnTWFuYWdlciA9IHtcbiAgZGF0YVNjcmlwdDogZnVuY3Rpb24gZGF0YVNjcmlwdChkYXRhTGF5ZXIpIHtcbiAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgc2NyaXB0LmlubmVySFRNTCA9IGRhdGFMYXllcjtcbiAgICByZXR1cm4gc2NyaXB0O1xuICB9LFxuICBndG06IGZ1bmN0aW9uIGd0bShhcmdzKSB7XG4gICAgdmFyIHNuaXBwZXRzID0gX1NuaXBwZXRzMi5kZWZhdWx0LnRhZ3MoYXJncyk7XG5cbiAgICB2YXIgbm9TY3JpcHQgPSBmdW5jdGlvbiBub1NjcmlwdCgpIHtcbiAgICAgIHZhciBub3NjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ25vc2NyaXB0Jyk7XG4gICAgICBub3NjcmlwdC5pbm5lckhUTUwgPSBzbmlwcGV0cy5pZnJhbWU7XG4gICAgICByZXR1cm4gbm9zY3JpcHQ7XG4gICAgfTtcblxuICAgIHZhciBzY3JpcHQgPSBmdW5jdGlvbiBzY3JpcHQoKSB7XG4gICAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICBzY3JpcHQuaW5uZXJIVE1MID0gc25pcHBldHMuc2NyaXB0O1xuICAgICAgcmV0dXJuIHNjcmlwdDtcbiAgICB9O1xuXG4gICAgdmFyIGRhdGFTY3JpcHQgPSB0aGlzLmRhdGFTY3JpcHQoc25pcHBldHMuZGF0YUxheWVyVmFyKTtcblxuICAgIHJldHVybiB7XG4gICAgICBub1NjcmlwdDogbm9TY3JpcHQsXG4gICAgICBzY3JpcHQ6IHNjcmlwdCxcbiAgICAgIGRhdGFTY3JpcHQ6IGRhdGFTY3JpcHRcbiAgICB9O1xuICB9LFxuICBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKF9yZWYpIHtcbiAgICB2YXIgZ3RtSWQgPSBfcmVmLmd0bUlkLFxuICAgICAgICBfcmVmJGV2ZW50cyA9IF9yZWYuZXZlbnRzLFxuICAgICAgICBldmVudHMgPSBfcmVmJGV2ZW50cyA9PT0gdW5kZWZpbmVkID8ge30gOiBfcmVmJGV2ZW50cyxcbiAgICAgICAgZGF0YUxheWVyID0gX3JlZi5kYXRhTGF5ZXIsXG4gICAgICAgIF9yZWYkZGF0YUxheWVyTmFtZSA9IF9yZWYuZGF0YUxheWVyTmFtZSxcbiAgICAgICAgZGF0YUxheWVyTmFtZSA9IF9yZWYkZGF0YUxheWVyTmFtZSA9PT0gdW5kZWZpbmVkID8gJ2RhdGFMYXllcicgOiBfcmVmJGRhdGFMYXllck5hbWUsXG4gICAgICAgIF9yZWYkYXV0aCA9IF9yZWYuYXV0aCxcbiAgICAgICAgYXV0aCA9IF9yZWYkYXV0aCA9PT0gdW5kZWZpbmVkID8gJycgOiBfcmVmJGF1dGgsXG4gICAgICAgIF9yZWYkcHJldmlldyA9IF9yZWYucHJldmlldyxcbiAgICAgICAgcHJldmlldyA9IF9yZWYkcHJldmlldyA9PT0gdW5kZWZpbmVkID8gJycgOiBfcmVmJHByZXZpZXc7XG5cbiAgICB2YXIgZ3RtID0gdGhpcy5ndG0oe1xuICAgICAgaWQ6IGd0bUlkLFxuICAgICAgZXZlbnRzOiBldmVudHMsXG4gICAgICBkYXRhTGF5ZXI6IGRhdGFMYXllciB8fCB1bmRlZmluZWQsXG4gICAgICBkYXRhTGF5ZXJOYW1lOiBkYXRhTGF5ZXJOYW1lLFxuICAgICAgYXV0aDogYXV0aCxcbiAgICAgIHByZXZpZXc6IHByZXZpZXdcbiAgICB9KTtcbiAgICBpZiAoZGF0YUxheWVyKSBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGd0bS5kYXRhU2NyaXB0KTtcbiAgICBkb2N1bWVudC5oZWFkLmluc2VydEJlZm9yZShndG0uc2NyaXB0KCksIGRvY3VtZW50LmhlYWQuY2hpbGROb2Rlc1swXSk7XG4gICAgZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUoZ3RtLm5vU2NyaXB0KCksIGRvY3VtZW50LmJvZHkuY2hpbGROb2Rlc1swXSk7XG4gIH0sXG4gIGRhdGFMYXllcjogZnVuY3Rpb24gZGF0YUxheWVyKF9yZWYyKSB7XG4gICAgdmFyIF9kYXRhTGF5ZXIgPSBfcmVmMi5kYXRhTGF5ZXIsXG4gICAgICAgIF9yZWYyJGRhdGFMYXllck5hbWUgPSBfcmVmMi5kYXRhTGF5ZXJOYW1lLFxuICAgICAgICBkYXRhTGF5ZXJOYW1lID0gX3JlZjIkZGF0YUxheWVyTmFtZSA9PT0gdW5kZWZpbmVkID8gJ2RhdGFMYXllcicgOiBfcmVmMiRkYXRhTGF5ZXJOYW1lO1xuXG4gICAgaWYgKHdpbmRvd1tkYXRhTGF5ZXJOYW1lXSkgcmV0dXJuIHdpbmRvd1tkYXRhTGF5ZXJOYW1lXS5wdXNoKF9kYXRhTGF5ZXIpO1xuICAgIHZhciBzbmlwcGV0cyA9IF9TbmlwcGV0czIuZGVmYXVsdC5kYXRhTGF5ZXIoX2RhdGFMYXllciwgZGF0YUxheWVyTmFtZSk7XG4gICAgdmFyIGRhdGFTY3JpcHQgPSB0aGlzLmRhdGFTY3JpcHQoc25pcHBldHMpO1xuICAgIGRvY3VtZW50LmhlYWQuaW5zZXJ0QmVmb3JlKGRhdGFTY3JpcHQsIGRvY3VtZW50LmhlYWQuY2hpbGROb2Rlc1swXSk7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gVGFnTWFuYWdlcjsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBfVGFnTWFuYWdlciA9IHJlcXVpcmUoJy4vVGFnTWFuYWdlcicpO1xuXG52YXIgX1RhZ01hbmFnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGFnTWFuYWdlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbm1vZHVsZS5leHBvcnRzID0gX1RhZ01hbmFnZXIyLmRlZmF1bHQ7IiwiaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCBUYWdNYW5hZ2VyIGZyb20gJ3JlYWN0LWd0bS1tb2R1bGUnXHJcblxyXG5jb25zdCBJbml0aWFsaXplR1RNID0gKCBwcm9wcyApID0+IHtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuXHJcbiAgICBpZiAoIW14LmdhNENvbm5lY3RlZCkgeyAvLyB3ZSBuZWVkIHRoZSBmbGFnIGJlY2F1c2Ugb25OYXZpZ2F0aW9uIGlzIGNhbGxlZCBzZXZlcmFsIHRpbWVzIGZvciB0aGluZ3MgbGlrZSBhZnRlciB3aWRnZXQgbG9hZCwgYWZ0ZXIgc2hvdyBwYWdlLCBldGMuIElmIHdlIHJlbW92ZSB0aGUgZmxhZywgdGhlbiB3ZSBzZW5kIG1vcmUgdGhhbiBvbmUgcGFnZSBoaXQgcGVyIHBhZ2Ugdmlld2luZ1xyXG4gICAgICBjb25zdCBvcmlnT25OYXZpZ2F0aW9uID0gbXgudWkuZ2V0Q29udGVudEZvcm0oKS5vbk5hdmlnYXRpb247IC8vIGNhY2hlIHdoYXQgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uIGRpZFxyXG4gICAgICBteC51aS5nZXRDb250ZW50Rm9ybSgpLm9uTmF2aWdhdGlvbiA9ICgpID0+IHtcclxuICAgICAgICAvLyBDb21wbGV0ZSBjdXN0b20gYWN0aW9uc1xyXG4gICAgICAgIGRlYnVnZ2VyO1xyXG4gICAgICAgIGlmIChwcm9wcy5zZW5kQ3VzdG9tUHJvcHMgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAvLyBvbk5hdmlnYXRpb24sIGZsYWcgZ29lcyBpbiBteC48c29tZXRoaW5nPlxyXG4gICAgICAgICAgY29uc3QgdGFnTWFuYWdlckFyZ3NJbml0aWFsaXplID0ge1xyXG4gICAgICAgICAgICBndG1JZDogcHJvcHMubWVhc3VyZW1lbnRJRFxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIFRhZ01hbmFnZXIuaW5pdGlhbGl6ZSh0YWdNYW5hZ2VyQXJnc0luaXRpYWxpemUpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgLy9cclxuXHJcbiAgICAgICAgICBsZXQgZGF0YUxheWVyU3RydWN0dXJlID0gZnVuY3Rpb24ocHJvcHMpIHtcclxuICAgICAgICAgICAgdmFyIGRhdGFMYXllciA9ICd7XCJldmVudFwiOlwiJyArIHByb3BzLnBhZ2VWaWV3RXZlbnROYW1lICsgJ1wiLCc7XHJcblxyXG4gICAgICAgICAgICBpZiAocHJvcHMuc2VuZFBhZ2VUaXRsZSkge1xyXG4gICAgICAgICAgICAgIGRhdGFMYXllciArPSAnXCJQYWdlIE5hbWVcIjpcIicgKyBteC51aS5nZXRDb250ZW50Rm9ybSgpLnRpdGxlICsgJ1wiLCc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChwcm9wcy5zZW5kTW9kdWxlTG9jYXRpb24pIHtcclxuICAgICAgICAgICAgICB2YXIgbW9kdWxlUGF0aCA9IG14LnVpLmdldENvbnRlbnRGb3JtKCkucGF0aDtcclxuICAgICAgICAgICAgICB2YXIgbW9kdWxlTG9jYXRpb24gPSAoZnVuY3Rpb24obW9kdWxlUGF0aCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhZ2VFeHRlbnNpb24gPSBcIi5wYWdlLnhtbFwiO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhdGggPSBtb2R1bGVQYXRoLnN1YnN0cigwLCBtb2R1bGVQYXRoLmxlbmd0aCAtIHBhZ2VFeHRlbnNpb24ubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwYXRoO1xyXG4gICAgICAgICAgICAgIH0obW9kdWxlUGF0aCkpO1xyXG4gICAgICAgICAgICAgIGRhdGFMYXllciArPSAnXCJNb2R1bGUgTG9jYXRpb25cIjpcIicgKyBtb2R1bGVMb2NhdGlvbiArICdcIiwnO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAocHJvcHMuc2VuZFBhZ2VVUkwpIHtcclxuICAgICAgICAgICAgICBpZiAobXgudWkuZ2V0Q29udGVudEZvcm0oKS51cmwgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwYWdlVVJMID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbiArIG14LnVpLmdldENvbnRlbnRGb3JtKCkudXJsO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBwYWdlVVJMID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbjtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIHZhciB0cmltbWVkVVJMID0gKGZ1bmN0aW9uKGZ1bGxVUkwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBsYXN0Q2hhckluZGV4ID0gZnVsbFVSTC5sYXN0SW5kZXhPZihcIi9cIik7XHJcbiAgICAgICAgICAgICAgICB2YXIgZW5kU3RyaW5nID0gZnVsbFVSTC5zdWJzdHJpbmcobGFzdENoYXJJbmRleCArIDEsZnVsbFVSTC5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKGVuZFN0cmluZykpIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bGxVUkw7IC8vIHRoZSBlbmQgb2YgdGhlIHN0cmluZyBpc24ndCBhIG51bWJlciwgcmV0dXJuIHRoZSB3aG9sZSB0aGluZ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBmdWxsUGF0aC5zdWJzdHIoMCxsYXN0Q2hhckluZGV4KTsgLy8gdGhlIGVuZCBvZiB0aGUgc3RyaW5nIGlzIGEgbnVtYmVyLCB0cmltIGl0XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfShwYWdlVVJMKSk7XHJcbiAgICAgICAgICAgICAgZGF0YUxheWVyICs9ICdcIlBhZ2UgVVJMXCI6XCInICsgdHJpbW1lZFVSTCArICdcIiwnO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAocHJvcHMuc2VuZFNlc3Npb25JRCkge1xyXG4gICAgICAgICAgICAgIGRhdGFMYXllciArPSAnXCJTZXNzaW9uIElEXCI6XCInICsgbXguc2Vzc2lvbi5nZXRTZXNzaW9uT2JqZWN0SWQoKSArICdcIiwnO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAocHJvcHMuc2VuZEFkZGl0aW9uYWxQcm9wcykge1xyXG4gICAgICAgICAgICAgIGZvciAoY29uc3QgW3Byb3BOYW1lLCBwcm9wVmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHByb3BzLmFkZGl0aW9uYWxQcm9wcykpIHtcclxuICAgICAgICAgICAgICBkYXRhTGF5ZXIgKz0gJ1wiJyArIHByb3BWYWx1ZS5wcm9wTmFtZSArICdcIjpcIicgKyBwcm9wVmFsdWUucHJvcFZhbHVlLnZhbHVlICsgJ1wiLCc7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBkYXRhTGF5ZXIgPSBkYXRhTGF5ZXIucmVwbGFjZSgvLFxccyokLywgXCJcIik7IC8vIHJlbW92ZSB0aGUgbGFzdCBjb21tYVxyXG4gICAgICAgICAgICBkYXRhTGF5ZXIgKz0gXCJ9XCJcclxuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZGF0YUxheWVyKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBsZXQgZGF0YUxheWVyID0gZGF0YUxheWVyU3RydWN0dXJlKHByb3BzKTtcclxuXHJcbiAgICAgICAgICBjb25zdCB0YWdNYW5hZ2VyQXJncyA9IHtcclxuICAgICAgICAgICAgZ3RtSWQ6IHByb3BzLm1lYXN1cmVtZW50SUQsXHJcbiAgICAgICAgICAgIGRhdGFMYXllclxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgVGFnTWFuYWdlci5pbml0aWFsaXplKHRhZ01hbmFnZXJBcmdzKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9teC5wcmV2aW91c0xheW91dCA9IG14LnVpLmdldENvbnRlbnRGb3JtKCkuX2N1cnJlbnRMYXlvdXRzWzBdOyAvLyBzZXQgdGhlIHByZXZpb3VzIGxheW91dCBhZnRlciB0aGUgcGFnZSBoYXMgbG9hZGVkIGZvciB0aGUgbmV4dCBjb21wYXJpc29uXHJcbiAgICAgICAgbXguZ2E0Q29ubmVjdGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgLy8gQ29tcGxldGUgb3JpZ2luYWwgYWN0aW9uc1xyXG4gICAgICAgIG9yaWdPbk5hdmlnYXRpb24oKTtcclxuXHJcbiAgICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICAgIG51bGw7XHJcbiAgICAgICAgfSBcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sIFtdKTtcclxuXHJcbiAgcmV0dXJuIG51bGw7XHJcblxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBJbml0aWFsaXplR1RNIiwiaW1wb3J0IHsgY3JlYXRlRWxlbWVudCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IEluaXRpYWxpemVHVE0gZnJvbSBcIi4vY29tcG9uZW50cy9Jbml0aWFsaXplR1RNXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBHb29nbGVUYWdNYW5hZ2VyKHsgbWVhc3VyZW1lbnRJRCwgc2VuZEN1c3RvbVByb3BzLCBwYWdlVmlld0V2ZW50TmFtZSwgc2VuZFBhZ2VUaXRsZSwgc2VuZE1vZHVsZUxvY2F0aW9uLCBzZW5kUGFnZVVSTCwgc2VuZFNlc3Npb25JRCwgc2VuZEFkZGl0aW9uYWxQcm9wcywgYWRkaXRpb25hbFByb3BzIH0pIHtcbiAgICByZXR1cm4gPEluaXRpYWxpemVHVE0gbWVhc3VyZW1lbnRJRD17bWVhc3VyZW1lbnRJRH0gc2VuZEN1c3RvbVByb3BzPXtzZW5kQ3VzdG9tUHJvcHN9IHBhZ2VWaWV3RXZlbnROYW1lPXtwYWdlVmlld0V2ZW50TmFtZX0gc2VuZFBhZ2VUaXRsZT17c2VuZFBhZ2VUaXRsZX0gc2VuZE1vZHVsZUxvY2F0aW9uPXtzZW5kTW9kdWxlTG9jYXRpb259IHNlbmRQYWdlVVJMPXtzZW5kUGFnZVVSTH0gc2VuZFNlc3Npb25JRD17c2VuZFNlc3Npb25JRH0gc2VuZEFkZGl0aW9uYWxQcm9wcz17c2VuZEFkZGl0aW9uYWxQcm9wc30gYWRkaXRpb25hbFByb3BzPXthZGRpdGlvbmFsUHJvcHN9IC8+O1xufVxuIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwid2FybiIsInMiLCJjb25zb2xlIiwiX3dhcm4iLCJyZXF1aXJlIiwiX3dhcm4yIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiU25pcHBldHMiLCJ0YWdzIiwiX3JlZiIsImlkIiwiZXZlbnRzIiwiZGF0YUxheWVyIiwiZGF0YUxheWVyTmFtZSIsInByZXZpZXciLCJhdXRoIiwiZ3RtX2F1dGgiLCJndG1fcHJldmlldyIsImlmcmFtZSIsInNjcmlwdCIsIkpTT04iLCJzdHJpbmdpZnkiLCJzbGljZSIsImRhdGFMYXllclZhciIsIl9kYXRhTGF5ZXIiLCJtb2R1bGUiLCJfU25pcHBldHMiLCJfU25pcHBldHMyIiwiVGFnTWFuYWdlciIsImRhdGFTY3JpcHQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJndG0iLCJhcmdzIiwic25pcHBldHMiLCJub1NjcmlwdCIsIm5vc2NyaXB0IiwiaW5pdGlhbGl6ZSIsImd0bUlkIiwiX3JlZiRldmVudHMiLCJ1bmRlZmluZWQiLCJfcmVmJGRhdGFMYXllck5hbWUiLCJfcmVmJGF1dGgiLCJfcmVmJHByZXZpZXciLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJjaGlsZE5vZGVzIiwiYm9keSIsIl9yZWYyIiwiX3JlZjIkZGF0YUxheWVyTmFtZSIsIndpbmRvdyIsInB1c2giLCJfVGFnTWFuYWdlciIsIl9UYWdNYW5hZ2VyMiIsIkluaXRpYWxpemVHVE0iLCJwcm9wcyIsInVzZUVmZmVjdCIsIm14IiwiZ2E0Q29ubmVjdGVkIiwib3JpZ09uTmF2aWdhdGlvbiIsInVpIiwiZ2V0Q29udGVudEZvcm0iLCJvbk5hdmlnYXRpb24iLCJzZW5kQ3VzdG9tUHJvcHMiLCJ0YWdNYW5hZ2VyQXJnc0luaXRpYWxpemUiLCJtZWFzdXJlbWVudElEIiwiZGF0YUxheWVyU3RydWN0dXJlIiwicGFnZVZpZXdFdmVudE5hbWUiLCJzZW5kUGFnZVRpdGxlIiwidGl0bGUiLCJzZW5kTW9kdWxlTG9jYXRpb24iLCJtb2R1bGVQYXRoIiwicGF0aCIsIm1vZHVsZUxvY2F0aW9uIiwicGFnZUV4dGVuc2lvbiIsInN1YnN0ciIsImxlbmd0aCIsInNlbmRQYWdlVVJMIiwidXJsIiwicGFnZVVSTCIsImxvY2F0aW9uIiwib3JpZ2luIiwidHJpbW1lZFVSTCIsImZ1bGxVUkwiLCJsYXN0Q2hhckluZGV4IiwibGFzdEluZGV4T2YiLCJlbmRTdHJpbmciLCJzdWJzdHJpbmciLCJpc05hTiIsImZ1bGxQYXRoIiwic2VuZFNlc3Npb25JRCIsInNlc3Npb24iLCJnZXRTZXNzaW9uT2JqZWN0SWQiLCJzZW5kQWRkaXRpb25hbFByb3BzIiwicHJvcE5hbWUiLCJwcm9wVmFsdWUiLCJlbnRyaWVzIiwiYWRkaXRpb25hbFByb3BzIiwicmVwbGFjZSIsInBhcnNlIiwidGFnTWFuYWdlckFyZ3MiLCJHb29nbGVUYWdNYW5hZ2VyIl0sIm1hcHBpbmdzIjoiOzs7O0VBRUFBLE1BQU0sQ0FBQ0MsY0FBUCxDQUFzQkMsTUFBdEIsRUFBK0IsWUFBL0IsRUFBNkM7RUFDM0NDLEVBQUFBLEtBQUssRUFBRTtFQURvQyxDQUE3Qzs7RUFHQSxJQUFJQyxJQUFJLEdBQUcsU0FBU0EsSUFBVCxDQUFjQyxDQUFkLEVBQWlCO0VBQzFCQyxFQUFBQSxPQUFPLENBQUNGLElBQVIsQ0FBYSxhQUFiLEVBQTRCQyxDQUE1QjtFQUNELENBRkQ7O2dCQUlBLEdBQWtCRDs7RUNQbEIsSUFBSUcsS0FBSyxHQUFHQyxNQUFaOztFQUVBLElBQUlDLE1BQU0sR0FBR0Msd0JBQXNCLENBQUNILEtBQUQsQ0FBbkM7O0VBRUEsU0FBU0csd0JBQVQsQ0FBZ0NDLEdBQWhDLEVBQXFDO0VBQUUsU0FBT0EsR0FBRyxJQUFJ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
